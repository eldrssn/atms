(this.webpackJsonpatm=this.webpackJsonpatm||[]).push([[0],{24:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(16),i=n.n(a),s=(n(24),n(14)),r=n(9),u=n(12),o=n(3),l=function(e){var t="";for(var n in e)t+="".concat(n,"\u20bd: ").concat(e[n],"\u0448\u0442; ");return t},j=function(e){return Number(e.replace(",","."))},h=function(e){return e.toFixed(2)},d=n(17),b=n.n(d),f=n(1),O=function(e){var t=e.outputInfo,n=e.balanceOfATM,c=t.waitingCash,a=t.totalReceived,i=t.amountOfBills,s=t.change;return Object(f.jsx)(f.Fragment,{children:c?Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)(b.a,{type:"Puff",color:"#2c3be04b",height:120,width:120})}):Object(f.jsxs)("div",{className:"output",children:[Object(f.jsxs)("p",{children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438: ",a,"\u20bd"]}),Object(f.jsxs)("p",{className:"output-bills",children:["\u0412 \u043a\u0443\u043f\u044e\u0440\u0430\u0445: ",l(i)]}),Object(f.jsxs)("p",{children:["\u041d\u0435 \u0432\u044b\u0434\u0430\u043d\u043e: ",s,"\u20bd"]}),Object(f.jsxs)("p",{className:"output-bills",children:["\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: ",l(n)]})]})})},p=[{id:1,title:"\u0443\u043b. \u041b\u0435\u043d\u0438\u043d\u0430, 86",cash:{5e3:100,2e3:400,1e3:1e3,500:3e3,200:5e3,100:8e3,50:1e4}},{id:2,title:"\u0443\u043b. \u0420\u0430\u0437\u044a\u0435\u0437\u0436\u0430\u044f, 2",cash:{5e3:476,2e3:345,1e3:6741,500:4362,200:234,100:1643,50:3450}},{id:3,title:"\u0443\u043b. \u041a\u0438\u0440\u043e\u0432\u0430, 44",cash:{5e3:234,2e3:678,1e3:845,500:2451,200:9654,100:2345,50:234}},{id:4,title:"\u0443\u043b. \u0411\u043e\u0440\u043e\u0432\u0430\u044f, 10",cash:{5e3:546,2e3:562,1e3:2543,500:4365,200:2154,100:124,50:342}},{id:5,title:"\u0443\u043b. \u041c\u0430\u0440\u0430\u0442\u0430, 99",cash:{5e3:2732,2e3:347,1e3:479,500:7556,200:3296,100:1257,50:3854}},{id:6,title:"\u0443\u043b \u041c\u0430\u043b\u044b\u0448\u0435\u0432\u0430, 86",cash:{5e3:73,2e3:147,1e3:279,500:356,200:696,100:857,50:854}}],m=["1","2","3","4","5","6","7","8","9","ok","0","del",","],x=function(e){var t=e.onClickButton;return Object(f.jsx)("section",{className:"numpad-wrapper",children:m.map((function(e){return Object(f.jsx)("button",{type:"button",onClick:function(){return t(e)},children:e},e)}))})},v=function(e,t,n){var c=[5e3,2e3,1e3,500,200,100,50],a={},i=0,s=function(){var e;for(var n in t)(e=t[n])>t[n]&&(e=t[n]);return e}(),r=function(){var e=[];for(var n in t){var c=t[n]/s;e.push(c)}return e}(),u=function(n){a[c[n]]?a[c[n]]++:a[c[n]]=1,e-=c[n],i+=c[n],t[c[n]]--};!function s(){for(var o,l=(o=r,Math.max.apply(null,o)),j=function(e){return Math.min.apply(null,e)}(r),d=r.indexOf(l),b=0;b<r.length;b++)if(l!==j&&e>=c[d])for(;e>=c[d];)u(d);else if(e>=c[b]){if(!t[c[b]])continue;u(b)}e>=50?(setTimeout(s),n({waitingCash:!0})):n({totalReceived:h(i),amountOfBills:a,waitingCash:!1,change:h(e)})}()},g=function(e){var t=e.atm,n=Object(c.useState)(""),a=Object(r.a)(n,2),i=a[0],s=a[1],u=Object(c.useState)(!1),o=Object(r.a)(u,2),h=o[0],d=o[1],b=Object(c.useState)({waitingCash:!1,totalReceived:0,amountOfBills:0,change:0}),p=Object(r.a)(b,2),m=p[0],g=p[1],N=Object(c.useRef)(null),k=function(e){s(e),N.focus()};return Object(f.jsxs)("div",{className:"main-wrapper",children:[Object(f.jsxs)("h2",{className:"main-header",children:["\u0411\u0430\u043d\u043a\u043e\u043c\u0430\u0442 \u043d\u0430 ",Object(f.jsx)("a",{href:"/atms/",children:t.title})]}),Object(f.jsxs)("div",{className:"input-wrapper",children:[Object(f.jsx)("input",{ref:function(e){N=e},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",value:i,autoFocus:!0,onChange:function(e){!function(e,t,n){var c=n;(""===e.target.value||c.test(e.target.value))&&t(e.target.value)}(e,s,/^[ 0-9,]+$/)},onKeyPress:function(e){"Enter"===e.key&&i&&(v(j(i),t.cash,g),d(!0),k(""))}}),Object(f.jsx)("span",{className:"question-sign","data-tooltip":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: "+l(t.cash),children:"?"})]}),Object(f.jsx)(x,{onClickButton:function(e){if("ok"!==e||i)return"ok"===e&&i?(v(j(i),t.cash,g),d(!0),void k("")):void k("del"!==e?i+=e:"");N.focus()}}),h&&Object(f.jsx)(O,{outputInfo:m,balanceOfATM:t.cash})]})},N=function(e){var t=e.atm,n=e.onATMClick,c=t.title,a=t.cash;return Object(f.jsx)("li",{onClick:function(){return n(t)},children:Object(f.jsxs)("div",{children:[c,Object(f.jsx)("span",{className:"question-sign","data-tooltip":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: "+l(a),children:"?"})]})})},k=function(e){var t=e.history,n=e.setAtm,c=function(e){t.push("/atm/".concat(e.id)),n(e)};return Object(f.jsxs)("div",{className:"main-wrapper",children:[Object(f.jsx)("h1",{className:"main-header",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442 \u0434\u043b\u044f \u0432\u044b\u0434\u0430\u0447\u0438 \u0434\u0435\u043d\u0435\u0433"}),Object(f.jsx)("ul",{className:"atms-wrapper",children:p.map((function(e){return Object(f.jsx)(N,{onATMClick:c,atm:e},e.id)}))})]})};var w=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)(u.a,{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(f.jsx)(k,Object(s.a)({setAtm:a},e))}}),Object(f.jsx)(o.a,{path:"/atm/:id",render:function(e){return Object(f.jsx)(g,Object(s.a)({atm:n},e))}})]})})},C=n(5),y=Object(C.a)();i.a.render(Object(f.jsx)(o.b,{history:y,children:Object(f.jsx)(w,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.1eb9c68e.chunk.js.map
(this.webpackJsonpatm=this.webpackJsonpatm||[]).push([[0],{24:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(16),i=c.n(a),s=(c(24),c(14)),r=c(9),u=c(12),o=c(3),l=function(e){var t="";for(var c in e)t+="".concat(c,"\u20bd: ").concat(e[c],"\u0448\u0442; ");return t},j=function(e){return Number(e.replace(",","."))},h=function(e){return e.toFixed(2)},d=function(e,t,c){var n=[5e3,2e3,1e3,500,200,100,50],a={},i=0;!function s(){for(var r=0;r<n.length;r++)if(e>=n[r]){if(!t[n[r]])continue;a[n[r]]?a[n[r]]++:a[n[r]]=1,e-=n[r],i+=n[r],t[n[r]]--}e>=50?(setTimeout(s),c({waitingCash:!0})):c({totalReceived:h(i),amountOfBills:a,waitingCash:!1,change:h(e)})}()},b=c(17),O=c.n(b),f=c(1),p=function(e){var t=e.outputInfo,c=e.balanceOfATM,n=t.waitingCash,a=t.totalReceived,i=t.amountOfBills,s=t.change;return Object(f.jsx)(f.Fragment,{children:n?Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)(O.a,{type:"Puff",color:"#2c3be04b",height:120,width:120})}):Object(f.jsxs)("div",{className:"output",children:[Object(f.jsxs)("p",{children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438: ",a,"\u20bd"]}),Object(f.jsxs)("p",{className:"output-bills",children:["\u0412 \u043a\u0443\u043f\u044e\u0440\u0430\u0445: ",l(i)]}),Object(f.jsxs)("p",{children:["\u041d\u0435 \u0432\u044b\u0434\u0430\u043d\u043e: ",s,"\u20bd"]}),Object(f.jsxs)("p",{className:"output-bills",children:["\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: ",l(c)]})]})})},m=[{id:1,title:"\u0443\u043b. \u041b\u0435\u043d\u0438\u043d\u0430, 86",cash:{5e3:100,2e3:400,1e3:1e3,500:3e3,200:5e3,100:8e3,50:1e4}},{id:2,title:"\u0443\u043b. \u0420\u0430\u0437\u044a\u0435\u0437\u0436\u0430\u044f, 2",cash:{5e3:476,2e3:345,1e3:6741,500:4362,200:234,100:1643,50:3450}},{id:3,title:"\u0443\u043b. \u041a\u0438\u0440\u043e\u0432\u0430, 44",cash:{5e3:234,2e3:678,1e3:845,500:2451,200:9654,100:2345,50:234}},{id:4,title:"\u0443\u043b. \u0411\u043e\u0440\u043e\u0432\u0430\u044f, 10",cash:{5e3:546,2e3:562,1e3:2543,500:4365,200:2154,100:124,50:342}},{id:5,title:"\u0443\u043b. \u041c\u0430\u0440\u0430\u0442\u0430, 99",cash:{5e3:2732,2e3:347,1e3:479,500:7556,200:3296,100:1257,50:3854}},{id:6,title:"\u0443\u043b \u041c\u0430\u043b\u044b\u0448\u0435\u0432\u0430, 86",cash:{5e3:73,2e3:147,1e3:279,500:356,200:696,100:857,50:854}}],x=["1","2","3","4","5","6","7","8","9","ok","0","del",","],v=function(e){var t=e.onClickButton;return Object(f.jsx)("section",{className:"numpad-wrapper",children:x.map((function(e){return Object(f.jsx)("button",{type:"button",onClick:function(){return t(e)},children:e},e)}))})},g=function(e){var t=e.atm,c=Object(n.useState)(""),a=Object(r.a)(c,2),i=a[0],s=a[1],u=Object(n.useState)(!1),o=Object(r.a)(u,2),h=o[0],b=o[1],O=Object(n.useState)({waitingCash:!1,totalReceived:0,amountOfBills:0,change:0}),m=Object(r.a)(O,2),x=m[0],g=m[1],N=Object(n.useRef)(null),k=function(e){s(e),N.focus()};return Object(f.jsxs)("div",{className:"main-wrapper",children:[Object(f.jsxs)("h2",{className:"main-header",children:["\u0411\u0430\u043d\u043a\u043e\u043c\u0430\u0442 \u043d\u0430 ",Object(f.jsx)("a",{href:"/atm/",children:t.title})]}),Object(f.jsxs)("div",{className:"input-wrapper",children:[Object(f.jsx)("input",{ref:function(e){N=e},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",value:i,autoFocus:!0,onChange:function(e){!function(e,t,c){var n=c;(""===e.target.value||n.test(e.target.value))&&t(e.target.value)}(e,s,/^[ 0-9,]+$/)},onKeyPress:function(e){"Enter"===e.key&&i&&(d(j(i),t.cash,g),b(!0),k(""))}}),Object(f.jsx)("span",{className:"question-sign","data-tooltip":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: "+l(t.cash),children:"?"})]}),Object(f.jsx)(v,{onClickButton:function(e){if("ok"!==e||i)return"ok"===e&&i?(d(j(i),t.cash,g),b(!0),void k("")):void k("del"!==e?i+=e:"");N.focus()}}),h&&Object(f.jsx)(p,{outputInfo:x,balanceOfATM:t.cash})]})},N=function(e){var t=e.atm,c=e.onATMClick,n=t.title,a=t.cash;return Object(f.jsx)("li",{onClick:function(){return c(t)},children:Object(f.jsxs)("div",{children:[n,Object(f.jsx)("span",{className:"question-sign","data-tooltip":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435: "+l(a),children:"?"})]})})},k=function(e){var t=e.history,c=e.setAtm,n=function(e){t.push("/atm/".concat(e.id)),c(e)};return Object(f.jsxs)("div",{className:"main-wrapper",children:[Object(f.jsx)("h1",{className:"main-header",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442 \u0434\u043b\u044f \u0432\u044b\u0434\u0430\u0447\u0438 \u0434\u0435\u043d\u0435\u0433"}),Object(f.jsx)("ul",{className:"atms-wrapper",children:m.map((function(e){return Object(f.jsx)(N,{onATMClick:n,atm:e},e.id)}))})]})};var w=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(f.jsx)(u.a,{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(f.jsx)(k,Object(s.a)({setAtm:a},e))}}),Object(f.jsx)(o.a,{path:"/atm/:id",render:function(e){return Object(f.jsx)(g,Object(s.a)({atm:c},e))}})]})})},C=c(5),y=Object(C.a)();i.a.render(Object(f.jsx)(o.b,{history:y,children:Object(f.jsx)(w,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.d569ea2d.chunk.js.map